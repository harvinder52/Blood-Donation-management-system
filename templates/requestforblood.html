{% extends 'base.html' %} {% block content %}

<div class="container my-5 p-5 bg-light rounded shadow-sm">
  <!-- Header with Image and Text Side by Side -->
  <div class="d-flex align-items-center mb-5 ps-2" style="gap: 1.5rem">
    <!-- Image -->
    <div style="width: 100px; height: 100px; flex-shrink: 0">
      <img
        src="{% static 'images/image30.png' %}"
        alt="Blood Request"
        class="img-fluid rounded shadow-sm w-100 h-100"
        style="object-fit: cover"
      />
    </div>

    <!-- Text -->
    <div class="flex-grow-1">
      <h1 class="text-danger fw-bold mb-1">Request For Blood</h1>
      <p class="text-muted m-0">
        Fill in the details to request a blood donation
      </p>
    </div>
  </div>

  <!-- Form Section -->
  <div class="mx-auto" style="max-width: 700px">
    <form method="post" name="myform" action="">
      {% csrf_token %}
      <div class="mb-3">
        <label for="name" class="form-label">Full Name:</label>
        <input
          type="text"
          class="form-control"
          id="name"
          name="name"
          placeholder="Enter your full name"
          required
        />
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input
          type="email"
          class="form-control"
          id="email"
          name="email"
          placeholder="abc@gmail.com"
          required
        />
      </div>

      <div class="mb-3">
        <label for="state" class="form-label">State:</label>
        <select class="form-select" name="state" required>
          <option value="" disabled selected>-- Select State --</option>
          <option value="Punjab">Punjab</option>
          <option value="Haryana">Haryana</option>
          <option value="Delhi">Delhi</option>
          <option value="Other">Other</option>
        </select>
      </div>

      <div class="mb-3">
        <label for="city" class="form-label">City:</label>
        <input
          type="text"
          class="form-control"
          id="city"
          name="city"
          placeholder="Enter your city"
          required
        />
      </div>

      <div class="mb-3">
        <label for="contact" class="form-label">Contact Number:</label>
        <div class="input-group">
          <span class="input-group-text">+91</span>
          <input
            type="phone"
            class="form-control"
            id="contact"
            name="ContactNumber"
            placeholder="00000-00000"
            required
          />
        </div>
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Address:</label>
        <textarea
          class="form-control"
          id="address"
          name="address"
          rows="3"
          placeholder="Enter your address"
          required
        ></textarea>
      </div>

      <div class="mb-3">
        <label for="bloodgroup" class="form-label">Blood Group:</label>
        <select class="form-select" name="bloodgroup" required>
          <option value="" disabled selected>-- Select Blood Group --</option>
          <option value="A+">A+</option>
          <option value="B+">B+</option>
          <option value="O+">O+</option>
          <option value="AB+">AB+</option>
          <option value="A-">A-</option>
          <option value="B-">B-</option>
          <option value="O-">O-</option>
          <option value="AB-">AB-</option>
        </select>
      </div>

      <div class="mb-4">
        <label for="date_birth" class="form-label">Date of Birth:</label>
        <input type="date" class="form-control" name="date_birth" required />
      </div>

      <div class="d-flex justify-content-between">
        <button type="submit" class="btn btn-danger w-50 me-2">
          Submit Request
        </button>
        <button type="reset" class="btn btn-outline-secondary w-50 ms-2">
          Reset
        </button>
      </div>
    </form>
  </div>
</div>
<!-- Success Modal -->
<div
  class="modal fade"
  id="successModal"
  tabindex="-1"
  aria-labelledby="successModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="successModalLabel">Request Successful</h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">Request Sent Successfully!</div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-bs-dismiss="modal">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

{% if show_modal %}
<script>
  window.addEventListener("load", function () {
    const modal = new bootstrap.Modal(document.getElementById("successModal"));
    modal.show();
  });
</script>
{% endif %} {% endblock %}
